const{prototype:t,assign:e,create:s,keys:n,freeze:o}=Object,i=[];function r(t){i.push(t),i.target=t}function l(){i.pop(),i.target=i[i.length-1]}var a=(t,e)=>!(e!==t&&(e==e||t==t));const{apply:c,defineProperty:u,deleteProperty:h,getOwnPropertyDescriptor:d,has:f,ownKeys:p,set:m}=Reflect;var g=o({}),v=t=>"function"==typeof t;const{hasOwnProperty:w}=t;var y=t=>"[object Object]"==={}.toString.call(t);const{isArray:b,prototype:x}=Array,N=new WeakMap,$=new WeakMap;function E(t){return y(t)||b(t)?M(t):t}function M(t,e){return N.has(t)?N.get(t).proxy:$.has(t)?t:((t,e={})=>{const n={target:t,subs:s(null),deepSubs:new Set,lastValue:s(null),isArray:b(t)},o=n.proxy=new Proxy(t,{get:k(e.get,n),set:A(e.set,n),ownKeys:C(n),deleteProperty:V(e.deleteProperty,n)});return N.set(t,n),$.set(o,n),o})(t,e)}const k=({before:t}=g,{subs:e,lastValue:s})=>(n,o,r)=>{if(t&&0===t(n,o,r))return n[o];if((d(n,o)||g).get)return n[o];const l=n[o];if(v(l)&&!w.call(n,o)&&f(n,o))return l;const a=i.target;return a&&(a.add(e,o),s[o]=l),E(l)},A=({before:t}=g,{subs:e,deepSubs:s,lastValue:n,isArray:o})=>(i,r,l,c)=>{if(t&&0===t(i,r,l,c))return!1;if((d(i,r)||g).set)return i[r]=l,!0;const u=f(n,r)?n[r]:i[r];return!!a(u,l)||(i[r]=l,o&&"length"===r&&((t,e,s)=>{for(;e<s;)h(t,e++)})(c,l=i[r],u),o&&l===u||S(e,s,n,m,r,l),!0)},C=({deepSubs:t})=>e=>{const s=i.target;return s&&t.add(s),p(e)},V=({before:t}=g,{subs:e,deepSubs:s,lastValue:n})=>(o,i)=>{if(t&&0===t(o,i))return!1;const r=h(o,i);return r&&S(e,s,n,h,i),r};function S(t,e,s,n,o,i){const r=t[o];r&&r.size&&n(s,o,i);for(let t of[...r||[],...e])t.update()}var _=t=>"symbol"==typeof t,T=t=>{const e=s(null);return s=>f(e,s)?e[s]:e[s]=t(s)},P=T(t=>36===(t+"").charCodeAt(0)),W=t=>_(t)||!P(t),L=t=>"string"==typeof t,H={set:{before:(t,e)=>W(e)?null:0},get:{before:(t,e)=>L(e)&&P(e)?0:null},deleteProperty:{before:(t,e)=>L(e)&&P(e)?0:null}},O=(t,e)=>{if(t){const s=p(t);for(let n of s)e(n,t[n])}},j=t=>null!==t,U=t=>null!==t&&"object"==typeof t,z=t=>t,B=/\B([A-Z])/g,I=T(t=>t.replace(B,"-$1").toLowerCase());function D(t,e){const s={};return((t,e,s)=>{s.isSymbol=_(t),s.attr=e&&e.attr||(s.isSymbol?null:I(t))})(t,e,s),e&&(v(e)?s.from=e:(((t,e)=>{const s=t.type;null!=s&&(v(s)?e.from=s:y(s)&&(v(s.from)&&(e.from=s.from),v(s.to)&&(e.to=s.to)))})(e,s),((t,e)=>{if(f(t,"default")){const s=t.default;!v(s)&&U(s)||(e.default=s)}})(e,s))),s.from===Boolean&&(s.from=j),s}var F=()=>{};const K="undefined"!=typeof window,R=K&&window.navigator.userAgent.toLowerCase(),q=R&&/iphone|ipad|ipod|ios/.test(R);let Z=!1;try{const t={};u(t,"passive",{get:()=>Z=!0}),window.addEventListener("test-passive",null,t)}catch(t){}const G={};function J(t,n,o){const i=e({},o),r=G[n]=s(null);let l=i.mixins;return function t(e,s,n,o){const i=o?s.props:s.props={},r=e.props;if(b(r)){if(!r.length)return;for(let t of r)i[t]=i[t]||D(t,null)}else y(r)&&O(r,(t,e)=>{i[t]=i[t]||D(t,e)});if(o)return;if(n)for(let e of n)t(e,s,null,!0);const l=s.propsMap={};O(i,(t,e)=>{const{attr:s}=e;s&&(l[s]||(l[s]=[])).push({name:t,from:e.from||z})})}(i,r,l=l&&l.length?l.reverse():null),function t(e,s,n,o,i){const{methods:r,data:l,computed:a,watch:c}=s;if(((t,e)=>{if(t){const s=e.methods||(e.methods={});O(t,(t,e)=>{!s[t]&&v(e)&&(s[t]=e)})}})(r,n),((t,e,s)=>{(v(e)||!t&&y(e))&&(s.dataList||(s.dataList=[])).push(e)})(e,l,n),((t,e)=>{if(t){const s=e.computed||(e.computed={});O(t,(t,e)=>{if(!s[t]&&e){const n=v(e),o=n?e:e.get||F,i=n?F:e.set||F;s[t]={get:o,set:i}}})}})(a,n),((t,e)=>{const s=e.watch||(e.watch={});U(t)&&O(t,(t,e)=>{(s[t]||(s[t]=[])).splice(0,0,e)})})(c,n),!i&&o)for(let s of o)t(e,s,n,null,!0)}(t,i,r,l),function t(e,s,n,o){if(["beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","connected","adopted","disconnected"].forEach(t=>{const n=e[t];v(n)&&(s[t]||(s[t]=[])).splice(0,0,n)}),!o&&n)for(let e of n)t(e,s,null,!0)}(i,r,l),((t,e,s,n,o)=>{const{render:i}=e;s.render=v(i)?i:null,K&&!t&&(s.el=e.el||void 0)})(t,i,r),[i,r]}let Q=0;var X=()=>""+Q++,Y=(t,e,s,n)=>{u(t,e,{enumerable:!0,configurable:!0,get:s,set:n})};const tt=[];let et=!1;function st(){et=!1;const t=tt.slice(0);tt.length=0;for(let e of t)e()}const nt=Promise.resolve(),ot=()=>{nt.then(st),q&&setTimeout(F)};function it(t,e){let s;if(tt.push(()=>{t?t.call(e):s(e)}),et||(et=!0,ot()),!t)return new Promise(t=>{s=t})}const rt=[],lt=new Map;let at=!1,ct=!1,ut=0;function ht(){ct=!0,ut=0,rt.sort((t,e)=>t.id-e.id);for(let t;ut<rt.length;ut++)t=rt[ut],lt.delete(t),t.isComputed&&!t.shouldUpdate||t.get();at=ct=!1,ut=rt.length=0,lt.clear()}class dt{constructor(t,e,s,n,o){if(this.id=X(),this.deps=new Set,this.fn=t,this.get=dt.get.bind(this),e){let t;this.isComputed=e,this.observeOptions=n,this.name=o,Y(this,"shouldUpdate",()=>t,e=>{(t=e)&&this.ssu()})}else!1===e&&(this.isWatch=!0,this.isWatchDeep=s)}static get(t){return this.clean(),this.isInit=!0,this.isComputed&&(this.shouldUpdate=!1),r(this),t=this.fn(),this.isWatchDeep&&this.wd(t),l(),t}add(t,e){let s=t[e]||(t[e]=new Set);s.add(this),this.deps.add(s)}update(){this.isComputed&&(this.shouldUpdate=!0,this.lazy)||(t=>{if(!lt.has(t)){if(lt.set(t,!0),ct){let e=rt.length-1;for(;e>ut&&rt[e].id>t.id;)e--;rt.splice(e+1,0,t)}else rt.push(t);at||(at=!0,it(ht))}})(this)}clean(){for(let t of this.deps)t.delete(this);this.deps.clear()}wd(t){const e=$.get(t);e&&e.deepSubs.add(this)}ec(t){let e,{subs:s}=this.observeOptions;if(s&&(e=s[this.name])&&e.size)for(let s of e)if(!1===t(s))break}ssu(){this.ec(t=>{t.isComputed&&t.lazy&&(t.shouldUpdate=!0)})}get lazy(){let t=!0;return this.ec(e=>{if(e.isWatch||!e.isComputed&&!e.isWatch||e.isComputed&&!e.lazy)return t=!1}),t}}const ft=new WeakMap,pt=t=>(...e)=>{const s=t(...e);return ft.set(s,!0),s},mt=t=>"function"==typeof t&&ft.has(t),gt=K&&void 0!==window.customElements&&void 0!==window.customElements.polyfillWrapFlushCallback,vt=(t,e,s=null,n=null)=>{let o=e;for(;o!==s;){const e=o.nextSibling;t.insertBefore(o,n),o=e}},wt=(t,e,s=null)=>{let n=e;for(;n!==s;){const e=n.nextSibling;t.removeChild(n),n=e}},yt={},bt={},xt=`{{lit-${(Math.random()+"").slice(2)}}}`,Nt=`\x3c!--${xt}--\x3e`,$t=RegExp(`${xt}|${Nt}`),Et="$lit$";class Mt{constructor(t,e){this.parts=[],this.element=e;let s=-1,n=0;const o=[],i=e=>{const r=e.content,l=document.createTreeWalker(r,133,null,!1);let a=0;for(;l.nextNode();){s++;const e=l.currentNode;if(1===e.nodeType){if(e.hasAttributes()){const o=e.attributes;let i=0;for(let t=0;t<o.length;t++)o[t].value.indexOf(xt)>=0&&i++;for(;i-- >0;){const o=t.strings[n],i=Ct.exec(o)[2],r=i.toLowerCase()+Et,l=e.getAttribute(r).split($t);this.parts.push({type:"attribute",index:s,name:i,strings:l}),e.removeAttribute(r),n+=l.length-1}}"TEMPLATE"===e.tagName&&i(e)}else if(3===e.nodeType){const t=e.data;if(t.indexOf(xt)>=0){const i=e.parentNode,r=t.split($t),l=r.length-1;for(let t=0;t<l;t++)i.insertBefore(""===r[t]?At():document.createTextNode(r[t]),e),this.parts.push({type:"node",index:++s});""===r[l]?(i.insertBefore(At(),e),o.push(e)):e.data=r[l],n+=l}}else if(8===e.nodeType)if(e.data===xt){const t=e.parentNode;null!==e.previousSibling&&s!==a||(s++,t.insertBefore(At(),e)),a=s,this.parts.push({type:"node",index:s}),null===e.nextSibling?e.data="":(o.push(e),s--),n++}else{let t=-1;for(;-1!==(t=e.data.indexOf(xt,t+1));)this.parts.push({type:"node",index:-1})}}};i(e);for(let t of o)t.parentNode.removeChild(t)}}const kt=t=>-1!==t.index,At=()=>document.createComment(""),Ct=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F \x09\x0a\x0c\x0d"'>=\/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;class Vt{constructor(t,e,s){this._parts=[],this.template=t,this.processor=e,this.options=s}update(t){let e=0;for(let s of this._parts)void 0!==s&&s.setValue(t[e]),e++;for(let t of this._parts)void 0!==t&&t.commit()}_clone(){const t=gt?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),e=this.template.parts;let s=0,n=0;const o=t=>{const i=document.createTreeWalker(t,133,null,!1);let r=i.nextNode();for(;s<e.length&&null!==r;){const t=e[s];if(kt(t))if(n===t.index){if("node"===t.type){const t=this.processor.handleTextExpression(this.options);t.insertAfterNode(r.previousSibling),this._parts.push(t)}else this._parts.push(...this.processor.handleAttributeExpressions(r,t.name,t.strings,this.options));s++}else n++,"TEMPLATE"===r.nodeName&&o(r.content),r=i.nextNode();else this._parts.push(void 0),s++}};return o(t),gt&&(document.adoptNode(t),customElements.upgrade(t)),t}}class St{constructor(t,e,s,n){this.strings=t,this.values=e,this.type=s,this.processor=n}getHTML(){const t=this.strings.length-1;let e="";for(let s=0;s<t;s++){const t=this.strings[s],n=Ct.exec(t);e+=n?t.substr(0,n.index)+n[1]+n[2]+Et+n[3]+xt:t+Nt}return e+this.strings[t]}getTemplateElement(){const t=document.createElement("template");return t.innerHTML=this.getHTML(),t}}const _t=t=>null===t||!("object"==typeof t||"function"==typeof t);class Tt{constructor(t){this.value=void 0,this._pendingValue=void 0,this.options=t}appendInto(t){this.startNode=t.appendChild(At()),this.endNode=t.appendChild(At())}insertAfterNode(t){this.startNode=t,this.endNode=t.nextSibling}appendIntoPart(t){t._insert(this.startNode=At()),t._insert(this.endNode=At())}insertAfterPart(t){t._insert(this.startNode=At()),this.endNode=t.endNode,t.endNode=this.startNode}setValue(t){this._pendingValue=t}commit(){for(;mt(this._pendingValue);){const t=this._pendingValue;this._pendingValue=yt,t(this)}const t=this._pendingValue;t!==yt&&(_t(t)?t!==this.value&&this._commitText(t):t instanceof St?this._commitTemplateResult(t):t instanceof Node?this._commitNode(t):Array.isArray(t)||t[Symbol.iterator]?this._commitIterable(t):t===bt?(this.value=bt,this.clear()):this._commitText(t))}_insert(t){this.endNode.parentNode.insertBefore(t,this.endNode)}_commitNode(t){this.value!==t&&(this.clear(),this._insert(t),this.value=t)}_commitText(t){const e=this.startNode.nextSibling;t=null==t?"":t,e===this.endNode.previousSibling&&3===e.nodeType?e.data=t:this._commitNode(document.createTextNode("string"==typeof t?t:t+"")),this.value=t}_commitTemplateResult(t){const e=this.options.templateFactory(t);if(this.value instanceof Vt&&this.value.template===e)this.value.update(t.values);else{const s=new Vt(e,t.processor,this.options),n=s._clone();s.update(t.values),this._commitNode(n),this.value=s}}_commitIterable(t){Array.isArray(this.value)||(this.value=[],this.clear());const e=this.value;let s,n=0;for(let o of t)void 0===(s=e[n])&&(s=new Tt(this.options),e.push(s),0===n?s.appendIntoPart(this):s.insertAfterPart(e[n-1])),s.setValue(o),s.commit(),n++;n<e.length&&(e.length=n,this.clear(s&&s.endNode))}clear(t=this.startNode){wt(this.startNode.parentNode,t.nextSibling,this.endNode)}}try{const t={get capture(){return!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(t){}function Pt(t){let e=Wt.get(t.type);void 0===e&&(e={stringsArray:new WeakMap,keyString:new Map},Wt.set(t.type,e));let s=e.stringsArray.get(t.strings);if(void 0!==s)return s;const n=t.strings.join(xt);return void 0===(s=e.keyString.get(n))&&(s=new Mt(t,t.getTemplateElement()),e.keyString.set(n,s)),e.stringsArray.set(t.strings,s),s}const Wt=new Map,Lt=new WeakMap,Ht=(t,e,s)=>{let n=Lt.get(e);void 0===n&&(wt(e,e.firstChild),Lt.set(e,n=new Tt(Object.assign({templateFactory:Pt},s))),n.appendInto(e)),n.setValue(t),n.commit()};K&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.0.0");class Ot{constructor(){[this.elem,this.attr,this.strings]=arguments,this.parts=this.createParts()}createParts(){return Array.apply(null,{length:this.strings.length-1}).map(()=>new jt(this))}getValue(){const{strings:t,parts:e}=this,s=t.length-1;let n="";for(let o,i=0;i<s;i++)if(n+=t[i],o=e[i]){const t=o.value;if(null!=t&&(b(t)||!L(t)&&t[Symbol.iterator])){for(let e of t)n+=L(e)?e:e+"";continue}n+=L(t)?t:t+""}return n+t[s]}commit(){this.elem.setAttribute(this.attr,this.getValue())}}class jt{constructor(t){this.committer=t}setValue(t){if(mt(t))return t(this);this.oldValue=this.value,this.value=t}commit(){const{value:t,oldValue:e}=this;a(t,e)||this.committer.commit(this.value=t)}}var Ut=(t,e,s,n)=>{t.removeEventListener(e,s,n)},zt=(t,e,s,n)=>{t.addEventListener(e,s,n)};class Bt{constructor(t,e,s){this.elem=t,this.type=e,this.opts=(t=>{const e={},s=[];for(let n of t)It[n]?e[n]=!0:Dt[n]&&s.push(Dt[n]);s.keys=t;const{once:n,passive:o,capture:i}=e;return{once:n,options:o?{passive:o,capture:i}:i,modifiers:s}})(s)}setValue(t){if(mt(t))throw Error(`@${this.type} 指令不支持传入指令方法进行使用 !`);this.oldListener=this.listener,this.listener=v(t)?t:null}commit(){const{listener:t,oldListener:e}=this;if(t!==e){const{elem:s,type:n,opts:o}=this,{options:i,modifiers:r,once:l,add:a=!0}=o;if(e&&!l&&Ut(s,n,this.value,i),t&&a){l&&(o.add=!1);const e=this.value=function e(o){for(let t of r)if(!1===t(s,o,r))return;l&&Ut(s,n,e,i),c(t,this,arguments)};zt(s,n,e,i)}}}}const It={once:!0,capture:!0,passive:Z},Dt={stop(t,e){e.stopPropagation()},prevent(t,e){e.preventDefault()},self:(t,e)=>e.target===t,exact(t,e,{keys:s}){const n=["ctrl","alt","shift","meta"].filter(t=>s.indexOf(t)<0);for(let t of n)if(e[t+"Key"])return!1;return!0}};["left","middle","right"].forEach((t,e)=>{Dt[t]=((t,s)=>f(s,"button")&&s.button===e)}),["ctrl","alt","shift","meta"].forEach(t=>{Dt[t]=((e,s)=>!!s[t+"Key"])});class Ft{constructor(t,e){this.elem=t,this.attr=e}setValue(t){if(mt(t))return t(this);this.oldValue=this.value,this.value=t}commit(){const t=this.value=!!this.value;t!==this.oldValue&&(t?this.elem.setAttribute(this.attr,""):this.elem.removeAttribute(this.attr))}}class Kt extends Ft{commit(){const{value:t,oldValue:e}=this;a(t,e)||(this.elem[this.attr]=t)}}var Rt=/\s+/;const qt=new WeakMap;var Zt=/;(?![^(]*\))/g,Gt=/:(.+)/,Jt=T(t=>{const e={};return t.split(Zt).forEach(t=>{if(t){const s=t.split(Gt);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e});const Qt=new WeakMap,{filter:Xt,slice:Yt}=x,te=/[^a-zA-Z·À-ÖØ-öø-ͽͿ-῿‌-‍‿-⁀⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�.$_\d]/;var ee=()=>!1,se=(t,e)=>{const n=new Map,o=s(null),i=M(o),r=new Proxy(i,{get:ne(n),set:oe(n),deleteProperty:ee}),l=function(t,e,s,n){const o=!n,i=o&&N.get(t);return(r,l,a)=>{const c=(l.set||F).bind(this),u=l.get.bind(this),h=new dt(()=>n?t[r]=u():e[r]=u(this),o,a,i,r);t[r]=void 0,s.set(r,{watcher:h,set:c})}}.call(t,o,i,n,e);let a=(t=>e=>{const s=t.get(e);s&&(s.watcher.clean(),t.delete(e))})(n);return[n,a,l,o,r]};const ne=t=>(e,s)=>{const n=t.get(s);if(n){const t=n.watcher;t.isInit&&!t.shouldUpdate||t.get()}return e[s]},oe=t=>(e,s,n)=>{const o=t.get(s);return!!o&&(o.set(n),!0)},ie=new WeakMap;function re(t,e,s){if(y(e))return this.$watch(t,e.handler,e);const n=this||g;let o,i,r,l,c,u;if(L(t))o=function(t){if(!te.test(t)){var e=t.split(".");return function(){let t=this;for(let s of e){if(!t)return;t=t[s]}return t}}}(t).bind(n);else{if(!v(t))return;o=t.bind(n)}ie.has(n)?u=ie.get(n):(u=se(null,!0),ie.set(n,u)),[,i,r,l,c]=u,s=s||{};const h=X(),d=e.bind(n),f=!!s.deep;let p,m=p=!!s.immediate;return r(h,{get(){const t=l[h],e=o();return m&&(p||!a(e,t)||f)&&d(e,t),e}},f),c[h],m=!0,p=!1,()=>{i(h)}}var le=(t,e)=>t.getAttribute(e),ae=(t,e)=>{const s=document.createEvent("HTMLEvents");s.initEvent(e,!0,!0),t.dispatchEvent(s)};const ce=[],ue=new WeakMap,he=new WeakMap;function de(t,e,s,n){const o=t.set=v(n)?n:t=>s[n]=t;c(re,this,[()=>e.length?e[0][e[1]]:g,function(t){t!==g&&c(o,this,arguments)},{immediate:!0}])}function fe(t,e){de(this,e,t,"value"),zt(t,"change",s=>{const[n,o]=e,i=Xt.call(t.options,t=>t.selected).map(t=>t.value);n[o]=t.multiple?i:i[0]})}function pe(t,e){de(this,e,t,"checked"),zt(t,"change",e=>{const[s,n]=this.options;s[n]=t.checked})}function me(t,e){de(this,e,t,e=>{t.checked=e==(le(t,"value")||null)}),zt(t,"change",e=>{const[s,n]=this.options;s[n]=le(t,"value")||null})}function ge(t,e){de(this,e,t,"value"),zt(t,"compositionstart",e=>{t.composing=!0}),zt(t,"compositionend",e=>{t.composing&&(t.composing=!1,ae(t,"input"))}),zt(t,"input",s=>{if(t.composing||!e.length)return;const[n,o]=this.options;n[o]=t.value})}var ve=new class{handleAttributeExpressions(t,e,s,n){const o=e[0];if("."===o){const[s]=e.slice(1).split(".");return[new Kt(t,s)]}if("@"===o){const[s,...n]=e.slice(1).split(".");return[new Bt(t,s,n)]}if("?"===o){const[s]=e.slice(1).split(".");return[new Ft(t,s)]}if(":"===o){const[s]=e.slice(1).split(".");if(f(we,s))return[new we[s](t,s)]}return new Ot(t,e,s).parts}handleTextExpression(t){return new Tt(t)}};const we={class:class{constructor(t){this.elem=t}setValue(t){if(mt(t))return t(this,!0);!function t(e,s){switch(typeof s){case"string":s.split(Rt).forEach(t=>e[t]=!0);break;case"object":b(s)?s.forEach(s=>t(e,s)):O(s,(s,n)=>n?t(e,s):delete e[s])}}(this.value={},t)}commit(){const{value:t,elem:{classList:e}}=this;if(qt.has(this)){const s=qt.get(this);O(s,s=>{f(t,s)||e.remove(s)}),O(t,t=>{f(s,t)||e.add(t)})}else O(t,t=>e.add(t));qt.set(this,t)}},style:class{constructor(t){this.elem=t}setValue(t){if(mt(t))return t(this,!0);!function t(e,s){switch(typeof s){case"string":return t(e,Jt(s));case"object":b(s)?s.forEach(s=>t(e,s)):O(s,(t,s)=>e[I(t)]=s)}}(this.value={},t)}commit(){const{value:t,elem:{style:e}}=this,s=Qt.get(this);O(s,(s,n)=>{f(t,s)||e.removeProperty(s)}),O(t,(t,s)=>{e.setProperty(t,s)}),Qt.set(this,t)}},model:class{constructor(t){const e=t.nodeName.toLowerCase(),s=t.type;let n;"select"===e?n=fe:"input"===e&&"checkbox"===s?n=pe:"input"===e&&"radio"===s?n=me:"input"!==e&&"textarea"!==e||(n=ge),this.elem=t,this.handler=n}setValue(t){if(!(b(t)&&t.length>1))throw Error(":model 指令的参数出错, :model 指令不支持此种传参 !");r(),(this.options||(this.options=M([]))).splice(0,2,...t),l();const e=ce[ce.length-1];let s=he.get(e);s||(s=[],he.set(e,s)),s.push(this)}commit(){let t,e,s=this.init;s&&(t=this.options).length&&(e=this.set)&&(r(),e(t[0][t[1]]),l()),!s&&this.handler&&(this.init=!0,this.handler(this.elem,this.options))}}},ye=new WeakMap,be=new WeakMap;var xe=pt((t,e,s)=>{const n=v(e)?e:t=>t[e];return e=>{if(!(e instanceof Tt))throw Error("Hu.html.repeat 指令方法只能在文本区域中使用 !");const o=ye.get(e)||[],i=be.get(e)||[],r=[],l=[],a=[];for(let e,o=0;o<t.length;o++)e=t[o],r[o]=n(e,o),l[o]=s(e,o);let c,u,h=0,d=o.length-1,f=0,p=l.length-1;for(;h<=d&&f<=p;)if(null===o[h])h++;else if(null===o[d])d--;else if(i[h]===r[f])a[f]=Ne(o[h],l[f]),h++,f++;else if(i[d]===r[p])a[p]=Ne(o[d],l[p]),d--,p--;else if(i[h]===r[p])a[p]=Ne(o[h],l[p]),$e(e,o[h],a[p+1]),h++,p--;else if(i[d]===r[f])a[f]=Ne(o[d],l[f]),d--,f++;else if(void 0===c&&(c=Ee(r,f,p),u=Ee(i,h,d)),c.has(i[h]))Me(o[h]),h++;else if(c.has(i[d])){const t=u.get(r[f]),s=void 0!==t?o[t]:null;if(null===s){const t=ke(e,o[h]);Ne(t,l[f]),a[f]=t}else a[f]=Ne(s,l[f]),$e(e,s,o[h]),o[t]=null;f++}else Me(o[d]),d--;for(;f<=p;){const t=ke(e,a[p+1]);Ne(t,l[f]),a[f++]=t}for(;h<=d;){const t=o[h++];null!==t&&Me(t)}ye.set(e,a),be.set(e,r)}});function Ne(t,e){return t.setValue(e),t.commit(),t}function $e(t,e,s){const n=t.startNode.parentNode,o=s?s.startNode:t.endNode,i=e.endNode.nextSibling;i!==o&&vt(n,e.startNode,i,o)}function Ee(t,e,s){const n=new Map;for(let o=e;o<=s;o++)n.set(t[o],o);return n}function Me(t){wt(t.startNode.parentNode,t.startNode,t.endNode.nextSibling)}function ke(t,e){const s=t.startNode.parentNode,n=void 0===e?t.endNode:e.startNode,o=s.insertBefore(At(),n);s.insertBefore(At(),n);const i=new Tt(t.options);return i.insertAfterNode(o),i}const Ae=new WeakMap;var Ce=pt(t=>e=>{if(!(e instanceof Tt))throw Error("Hu.html.unsafe 指令方法只能在文本区域中使用 !");const s=Ae.get(e);if(s&&_t(t)&&t===s.value&&e.value===s.fragment)return;const n=document.createElement("template");n.innerHTML=t;const o=document.importNode(n.content,!0);e.setValue(o),Ae.set(e,{value:t,fragment:o})}),Ve=pt((t,e)=>{const s=$.has(t);return(n,o=!1)=>{if(n instanceof Tt)throw Error("Hu.html.bind 指令方法只能在元素属性绑定中使用 !");const i=t=>{n.setValue(t),n.commit()};if(!s)return i(t[e]);const r=re(()=>t[e],i,{immediate:!0,deep:o}),l=ce[ce.length-1];let a=ue.get(l);a||(a=[],ue.set(l,a)),a.push(r)}});function Se(t,...e){return new St(t,e,"html",ve)}function _e(t,e,s){Te(e),ce.push(e),Ht(t,e,s),ce.pop()}function Te(t){Pe(ue,t,t=>t()),Pe(he,t,t=>t.options.length=0)}function Pe(t,e,s){const n=t.get(e);if(n){for(let t of n)s(t);n.length=0}}e(Se,{unsafe:Ce,repeat:xe,bind:Ve});const We=new WeakMap;var Le=(t,e,s)=>{const n=G[t].render;if(n){const t=new dt(()=>{const t=e.$el;t&&(_e(n.call(s,Se),t),e.$refs=(e=>{const s={},n=t.querySelectorAll("[ref]");return n.length&&Array.from(n).forEach(t=>{const e=t.getAttribute("ref");s[e]=s[e]?[].concat(s[e],t):t}),Object.freeze(s)})())});We.set(s,t),e.$forceUpdate=t.get}else e.$forceUpdate=F};function He(t){const e=We.get(t);e&&e.clean()}var Oe=(t,e,s=G[t.$info.name],n=[])=>{const o=s[e];if(o)for(let e of o)c(e,t,n);t.$emit("hook:"+e,...n)};const je=new WeakMap,Ue=new WeakMap;function ze(t){const e=s(null);je.set(t,e)}var Be=(t,e,s,n,o)=>{W(e)&&(f(t,e)&&delete t[e],n?Y(t,e,n,o):t[e]=s)},Ie=t=>{for(let e in t)return!1;return!0},De={set:{before:()=>0},deleteProperty:{before:()=>0}};const Fe=new WeakMap;let Ke;function Re(t,e){const s=t.get(e);if(s){const[t,e]=s;t.forEach((t,s)=>e(s))}}class qe{constructor(t){const e=M(this,H);Le(t,this,e),ze(e)}}function Ze(t,e,n,o,i){const r=new qe(n),l=N.get(r).proxy;return t&&(r.$el=e.attachShadow({mode:"open"}),r.$customElement=e),((t,e,s,n)=>{s.$options=M(n,De),s.$info=M({name:e,isMounted:!1,isCustomElement:t,isConnected:!1},De)})(t,n,r,i),((t,e,n,o,i)=>{const r=n.props,l=s(null),a=o.$props=M(l);O(r,(s,n)=>{let o=null;t&&n.attr&&(o=e.getAttribute(n.attr)),l[s]=null!==o?(n.from||z)(o):v(n.default)?n.default.call(i):n.default}),O(r,(t,e)=>{!e.isSymbol&&P(t)||Y(o,t,()=>a[t],e=>a[t]=e)})})(t,e,o,r,l),((t,e,n)=>{const o=e.$methods=s(null);O(t.methods,(t,s)=>{const i=o[t]=s.bind(n);Be(e,t,i)})})(o,r,l),((t,e,n)=>{const o=t.dataList;let i;if(o&&o.length)for(let t of o)v(t)&&(t=t.call(n)),i||(i=t),O(t,(t,e)=>{f(i,t)||(i[t]=e)});else i=s(null);const r=e.$data=M(i);O(i,t=>{Be(e,t,0,()=>r[t],e=>r[t]=e)})})(o,r,l),Oe(l,"beforeCreate",o),((t,e,s)=>{const n=t.computed;if(Ie(n))return e.$computed=Ke||(Ke=M({},De));const o=se(s),[,,i,,r]=o;Fe.set(s,o),e.$computed=r,$.set(r,{}),O(n,(t,s)=>{i(t,s),Be(e,t,0,()=>r[t],e=>r[t]=e)})})(o,r,l),function(t,e,s){O(t.watch,function t(e,n){if(b(n))for(let s of n)t(e,s);else y(n)||v(n)?s.$watch(e,n):L(n)&&s.$watch(e,function(){return c(this[n],this,arguments)})})}(o,0,l),Oe(l,"created",o),!t&&o.el&&l.$mount(o.el),l}e(qe.prototype,{$watch:re,$mount(t){const e=this.$info,{isMounted:s,isCustomElement:n}=e;if(!n&&!s){const s=t&&(L(t)?document.querySelector(t):t);if(!s||s===document.body||s===document.documentElement)return this;$.get(this).target.$el=s;const n=G[e.name],o=$.get(e).target;Oe(this,"beforeMount",n),this.$forceUpdate(),o.isMounted=o.isConnected=!0,Oe(this,"mounted",n)}return this},$nextTick(t){return it(t,this)},$on(t,e){if(b(t))for(let s of t)this.$on(s,e);else{const s=je.get(this);(s[t]||(s[t]=[])).push(e)}return this},$once(t,e){function s(){this.$off(t,s),c(e,this,arguments)}return Ue.set(s,e),this.$on(t,s),this},$off(t,e){if(!arguments.length)return ze(this),this;if(b(t)){for(let s of t)this.$off(s,e);return this}const s=je.get(this)[t];if(!s||!s.length)return this;if(!e)return s.length=0,this;let n=s.length;for(;n--;){let t=s[n];if(t===e||Ue.get(t)===e){s.splice(n,1);break}}return this},$emit(t){const e=je.get(this)[t];if(e&&e.length){const t=e.length>1?Yt.call(e):e,[,...s]=arguments;for(let e of t)c(e,this,s)}return this},$destroy(){Oe(this,"beforeDestroy"),Re(Fe,this),Re(ie,this),Te(this.$el),He(this),Oe(this,"destroyed"),this.$off()}});const Ge=new Proxy(qe,{construct(t,[e]){const s="anonymous-"+X(),[n,o]=J(!1,s,e);return Ze(!1,void 0,s,o,n)}});Ge.version="1.0.0-bata.1";var Je=t=>(function(e,s,n){if(n===s)return;const{$props:o}=this.$hu,{target:i}=$.get(o),r=t[e];for(let{name:t,from:e}of r){const s=e(n);a(i[t],s)||(o[t]=s)}}),Qe=t=>(function(){const e=this.$hu;$.get(e.$info).target.isConnected=!1,Te(e.$el),He(e),Oe(e,"disconnected",t)}),Xe=t=>(function(e,s){Oe(this.$hu,"adopted",t,[s,e])}),Ye=t=>(function(){const e=this.$hu,s=e.$info,n=s.isMounted,o=$.get(s).target;o.isConnected=!0,n||Oe(e,"beforeMount",t),e.$forceUpdate(),n||(o.isMounted=!0,Oe(e,"mounted",t)),Oe(e,"connected",t)});const ts=K?window.Hu:void 0;Ge.noConflict=(()=>(K&&window.Hu===Ge&&(window.Hu=ts),Ge)),K&&(window.Hu=Ge),e(Ge,{define(t,s){const[o,i]=J(!0,t,s);class r extends HTMLElement{constructor(){super(),this.$hu=Ze(!0,this,t,i,o)}}r.observedAttributes=n(i.propsMap),e(r.prototype,{connectedCallback:Ye(i),disconnectedCallback:Qe(i),adoptedCallback:Xe(i),attributeChangedCallback:Je(i.propsMap)}),customElements.define(t,r)},render(t,e){return arguments.length>1?_e(t,e):(e=t,function(){return _e(c(Se,null,arguments),e)})},html:Se,nextTick:it,observable:E});export default Ge;
